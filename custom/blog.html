{- set $title = "Blog · " + site.title -}
{- include "head" this $title -}

<body>
  {- include "headbar" -}

  <main class="main">
    <div class="container">
      <section class="blog-header fade-in">
        <div class="blog-header-main">
          <h1 class="blog-title-en">Blog</h1>
          <p class="blog-header-meta">
            Page 1 · Showing all posts
          </p>
        </div>

        <a href="blog.html" class="blog-header-link">
          View all posts by years →
        </a>
      </section>

      <section class="blog-list fade-in" aria-label="博客列表">
        {- for $p : pages -}
        {- if $p.url != null -}
        <a href="{: $p.url :}" class="blog-card">
          <div class="blog-card-main">
            <div class="blog-card-meta">
              {- if $p.date != null -}
              <span class="blog-card-date"><time class="article-date" datetime="{: $p.date :}">{: $p.date :}</time></span>
              {- end -}

              {- if $p.reading_time != null -}
              <span class="blog-card-sep">·</span>
              <span class="blog-card-read">{: $p.reading_time :}</span>
              {- end -}

              {- if $p.lang != null -}
              <span class="blog-card-sep">·</span>
              <span class="blog-card-lang">{: $p.lang :}</span>
              {- end -}
            </div>

            <h2 class="blog-card-title">
              {- if $p.title != null -}
              {: $p.title :}
              {- else -}
              未命名文章
              {- end -}
            </h2>

            {- if $p.description != null -}
            <p class="blog-card-excerpt">
              {: $p.description :}
            </p>
            {- end -}

            {- if $p.tags != null -}
            <div class="blog-card-tags">
              {- for $tag : $p.tags -}
              <span class="tag-pill">{: $tag :}</span>
              {- end -}
            </div>
            {- end -}
          </div>

          <div class="blog-card-arrow">➜</div>
        </a>
        {- end -}
        {- end -}
      </section>
    </div>
  </main>

  {- include "footer" -}
</body>